local startPos = Vector3.new(0, 5, 0)



for i = 1, 50 do
	local part = Instance.new("Part")
	part.Size = Vector3.new(5, 1, 5)
	part.Anchored = true

	local offsetX = math.random(-5, 5)
	local offsetZ = math.random(-5, 5)

	part.Position = startPos + Vector3.new(offsetX, i * 4, offsetZ)
	part.Orientation = Vector3.new(0, math.random(0, 360), 0)
	part.Color = Color3.fromRGB(math.random(0,255), math.random(0,255), math.random(0,255))
	part.Name = "JumpTile"  -- имя для поиска

	part.Parent = game.Workspace
	
	if i % 3 == 0 then
		local coin = Instance.new("Part")
		coin.Shape = Enum.PartType.Ball
		coin.Size = Vector3.new(2, 2, 2)
		coin.Anchored = true
		coin.Color = Color3.fromRGB(255, 215, 0)
		coin.Position = part.Position + Vector3.new(0, 2, 0)
		coin.Name = "Coin"
		coin.Parent = game.Workspace

		-- обработка касания
		coin.Touched:Connect(function(hit)
			local player = game.Players:GetPlayerFromCharacter(hit.Parent)
			if player then
				coin:Destroy()

				-- +1 к монеткам
				local stats = player:FindFirstChild("leaderstats")
				if stats then
					local coins = stats:FindFirstChild("Coins")
					if coins then
						coins.Value = coins.Value + 1

						-- проверка на победу
						if coins.Value >= 10 then
							-- Сообщение о победе
							local message = Instance.new("Message")
							message.Text = "Ты победил! Собрал все монетки!"
							message.Parent = game.Workspace

							-- удалить сообщение через 5 секунд
							game.Debris:AddItem(message, 5)
						end
					end
				end
			end
		end)
	end

end
